# 用户变量

在开始用户变量配置与定义之前，推荐您阅读[用户模型](../datamodel/usermodel/)文档，了解 GrowingIO 如何标记用户。

用户变量用来保存跟用户本身相关的信息。GrowingIO 支持设置登录用户和匿名访客的用户属性信息。**需要注意的是，匿名访客的变量设置当前只支持小程序。** 🍎🍎 匿名用户？还是访问用户？只支持小程序？

{% hint style="success" %}
不建议在登录用户变量中保存跟交互行为相关的信息，例如当前正在浏览的商品，当前正在查看的某一个SaaS项目。这些随着用户的交互行为会发生变化的信息，我们建议使用[页面级变量](ye-mian-ji-bian-liang.md)和转化变量 🍎 （转化变量做链接）来保存。
{% endhint %}

{% tabs %}
{% tab title="登录用户变量" %}
### 登录用户简介

**登录用户ID**：也就是注册用户ID，当用户访问您的产品并生注册/登录行为时，您可以通过GrowingIO SDK中的API将该用户的注册ID（或与之对应的唯一标识，可以加密处理）上传给GrowingIO。

**登录用户变量**：登录用户变量用来保存跟登录用户本身相关的信息，例如用户的姓名、性别、会员卡等级等。

基于登录用户ID，您可以进行跨平台分析，也可以在登录用户ID的基础上，将更多的用户个人属性（如：性别、年龄段或您已经分析得出的用户标签）上传给GrowingIO，从而实现更加高级的业务分析。

某些情况下，一些特定的用户信息会发生变化。例如：某个用户的会员卡等级由银卡变为金卡。那么这位用户在银卡会员的时候发生的页面浏览、访问、购买等事件应该归属于银卡会员这个值还是金卡会员的值呢？这个取决于登录用户变量的归因配置。

### 归因模型

当发生一个事件的时候，GrowingIO 会通过登录用户变量中配置的归因模型去计算应该将这个事件归到登录用户变量中的哪一个值上，登录用户变量支持两种归因模型：

**最近**

 当事件发生时，往前看，事件的所有权重全部分配给用户变量中**离事件发生的时间最近的值**上。例如，在前面的某个用户在某天从银卡升级成为金卡的例子中，在最近这种归因模型下，所有银卡时候发生的页面浏览，访问，购买事件等等都仍然归到银卡上。

**最终**

 当事件发生时，往后看，事件的所有权重全部分配给用户变量中**最终设置的值**上。例如，在前面的某个用户在某天从银卡升级成为金卡的例子中，在最终这种归因模型下，所有银卡时候发生的页面浏览，访问，购买事件等等都会归到金卡上。

### 登录用户变量的持久性范围

登录用户变量默认的持久性范围是永远。当某个用户配置上某一个用户变量的某一个值时，如果后面没有再修改，那么这个用户在今后会一直保持这个值。也就是说，用户在之后不管多久的时间段内发生的各种各样的事件都可以归到这个登录用户变量的值上，除非之后显式的更改了这个登录用户变量的值。

### 登录用户变量更新机制

用户登录变量数据按天更新，当天新上传的登录用户变量数据在分析单图中显示为N/A，次日查看可显示变量数据。
{% endtab %}

{% tab title="访问用户变量" %}
### 访问用户简介

**访问用户ID：**访问用户是 GrowingIO 对访问您的应用（包括网页、App、微信小程序等，下同）的用户的一种识别机制。每一个访问您的应用的用户都会在对应的设备中生成并记录一个唯一的 ID，我们称之为访问用户 ID。

 对于不同平台类型的应用，GrowingIO 提供了多种识别方案，从而尽可能的实现对用户的唯一标识。访问用户在不同平台的标识请参考**数据模型** &gt; [**访问用户**](../datamodel/usermodel/visituser.md)**。**

**访问用户变量**： 不同于登录用户变量，访问用户变量适用于在对非登录状态下的访问用户进行标记，便于后续做用户信息的相关分析。

### 访问用户变量的持久性范围

访问用户变量持久性范围是 4 小时。所有的都统计都是基于最近 4 小时的数据，如果同一个维度值设置多次，取最后一次。建议用户每次访问时重新设置。
{% endtab %}
{% endtabs %}





